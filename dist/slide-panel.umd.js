(function(o,a){typeof exports=="object"&&typeof module!="undefined"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(o=typeof globalThis!="undefined"?globalThis:o||self,a(o.SlidePanel={}))})(this,function(o){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slide-deck-panel",class:e.classes,style:e.styles},[e._t("default")],2)},v=[],W="";function h(e,t,i,s,u,p,_,E){var n=typeof e=="function"?e.options:e;t&&(n.render=t,n.staticRenderFns=i,n._compiled=!0),s&&(n.functional=!0),p&&(n._scopeId="data-v-"+p);var l;if(_?(l=function(r){r=r||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!r&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(r=__VUE_SSR_CONTEXT__),u&&u.call(this,r),r&&r._registeredComponents&&r._registeredComponents.add(_)},n._ssrRegister=l):u&&(l=E?function(){u.call(this,(n.functional?this.parent:this).$root.$options.shadowRoot)}:u),l)if(n.functional){n._injectStyles=l;var z=n.render;n.render=function(I,y){return l.call(y),z(I,y)}}else{var g=n.beforeCreate;n.beforeCreate=g?[].concat(g,l):[l]}return{exports:e,options:n}}function d(e,t="px"){return e!=null&&e!==!1&&isFinite(e)?`${e}${t}`:e}const m={props:{align:{type:String,default:"right"},minWidth:[Number,String],maxWidth:[Number,String],width:[Number,String]},computed:{classes(){return{[`slide-${this.align}`]:!0}},styles(){return{width:this.width?d(this.width):null,minWidth:this.minWidth?d(this.minWidth):null,maxWidth:this.maxWidth?d(this.maxWidth):null}}}},c={};var S=h(m,a,v,!1,w,null,null,null);function w(e){for(let t in c)this[t]=c[t]}var x=function(){return S.exports}(),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slide-panel",style:{zIndex:e.zIndex,display:e.isDisplaying?"flex":"none"},on:{mouseenter:function(s){return s.target!==s.currentTarget?null:e.onMouseenter.apply(null,arguments)},mouseleave:function(s){return s.target!==s.currentTarget?null:e.onMouseleave.apply(null,arguments)},keydown:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:e.onEsc.apply(null,arguments)}}},[i("transition",{attrs:{name:"slide"},on:{"after-enter":e.onAfterEnter,"after-leave":e.onAfterLeave}},[e.isShowing?i("div",{staticClass:"slide-panel-content",class:{show:e.isShowing},style:{transitionDuration:e.duration},on:{click:e.onClick}},[i("div",{staticClass:"slide-panel-content-inner"},[e._t("default")],2),i("div",[i("a",{staticClass:"slide-panel-close",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.onClickCancel.apply(null,arguments)}}},[i("span",[e._v("\xD7")])])])]):e._e()])],1)},$=[],M="";const k={zIndex:0,panels:[]},T={props:{cancel:{type:Function,default(e){return!0}},duration:{type:String,default:"500ms"},width:{type:[String,Number],default:50},registry:{type:Object,default:()=>k},show:Boolean},data(){return{isDisplaying:!1,isHover:!1,isShowing:!1,isTopSlide:!1,zIndex:-1}},computed:{classes(){return{show:this.isShowing,"slide-top":!!this.isTopSlide}}},watch:{["registry.panels"](e){const t=this.registry.panels.indexOf(this);this.isTopSlide=t>-1&&t+1===this.registry.panels.length},isShowing(e){e&&(this.isDisplaying=!0,this.zIndex=++this.registry.zIndex,this.registry.panels.push(this))},isDisplaying(e){const t=this.registry.panels.indexOf(this);e||this.registry.panels.splice(t,1)},show(e){this.isShowing=e}},mounted(){this.show&&this.open()},methods:{close(){return this.isShowing=!1,this},divide(e,t){const i=e.toString().match(/^(\d+)(.+)$/);return i[0]?`${parseInt(i[1])/t}${i[2]}`:e},open(){return this.isShowing=!0,this},styles(){if(this.registry.panels.indexOf(this)>-1)return{zIndex:this.zIndex}},toggle(){return this.isShowing?this.cancel():this.open(),this},onAfterEnter(){this.$emit("open")},onAfterLeave(){this.isDisplaying=!1,this.$emit("close")},onClick(){const e=this.registry.panels.indexOf(this);console.log("onClick",e)},onClickCancel(){Promise.resolve(this.cancel(this)).then(e=>{e!==!1&&this.close()})},onMouseenter(e){this.isTopSlide||this.registry.panels.slice(0,this.registry.panels.indexOf(this)+1).forEach(t=>{t.isHover=!0})},onMouseleave(e){this.registry.panels.slice(0,this.registry.panels.indexOf(this)+1).forEach(t=>{t.isHover=!1})}}},f={};var O=h(T,C,$,!1,b,null,null,null);function b(e){for(let t in f)this[t]=f[t]}var D=function(){return O.exports}();o.SlideDeck=x,o.SlidePanel=D,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
